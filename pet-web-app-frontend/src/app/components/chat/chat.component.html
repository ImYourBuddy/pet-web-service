<div class="toolbar" role="banner">
  <span>Chat with {{recipient.firstName}} {{recipient.lastName}}</span>
</div>

<div class="content" role="main">
  <div class="card highlight-card card-small">

    <p>Entered as {{sender.firstName}} {{sender.lastName}}!</p>

    <svg id="rocket-smoke" alt="Rocket Ship Smoke" xmlns="http://www.w3.org/2000/svg" width="516.119" height="1083.632"
         viewBox="0 0 516.119 1083.632">
      <path id="Path_40" data-name="Path 40"
            d="M644.6,141S143.02,215.537,147.049,870.207s342.774,201.755,342.774,201.755S404.659,847.213,388.815,762.2c-27.116-145.51-11.551-384.124,271.9-609.1C671.15,139.365,644.6,141,644.6,141Z"
            transform="translate(-147.025 -140.939)" fill="#f5f5f5"/>
    </svg>
  </div>

  <div class="content">
    <div *ngFor="let msg of messages">
      <div *ngIf="msg.sender == to">
        <p>{{recipient.firstName}}: {{msg.text}} ({{msg.timestamp| date:'medium'}})</p>
      </div>
      <div *ngIf="msg.sender == userId">
        <p>{{sender.firstName}}: {{msg.text}} ({{msg.timestamp| date:'medium'}})</p>
      </div>
    </div>
    <div *ngFor="let newMessage of newMessages">
      <div *ngIf="newMessage.sender == to">
        <p>{{recipient.firstName}}: {{newMessage.text}} ({{newMessage.timestamp| date:'medium'}})</p>
      </div>
      <div *ngIf="newMessage.sender == userId">
        <p>{{sender.firstName}}: {{newMessage.text}} ({{newMessage.timestamp| date:'medium'}})</p>
      </div>
    </div>
    <div *ngFor="let sentMessage of sentMessages">
        <p>{{sender.firstName}}: {{sentMessage.text}} ({{sentMessage.timestamp| date:'longDate'}})</p>
    </div>
  </div>
  <input class="form-control" type="text" placeholder="message" [(ngModel)]="input">
  <button class="btn btn-success" (click)="sendMessage()">Send</button>
</div>

